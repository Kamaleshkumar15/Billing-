<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hostel Bill Counter</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero text-white py-5 mb-4">
      <div class="container">
        <div class="row align-items-center gy-4">
          <div class="col-md-7">
            <h1 class="display-5 fw-bold">Shree Hostel </h1>
            <p class="lead mb-4">
              Fast, healthy South Indian breakfast & tiffin billing with one tap.
              Manage your daily menu, track sales, and accept QR payments with ease.
            </p>
            <div class="d-flex gap-3 flex-wrap">
              <a href="#menu" class="btn btn-light btn-lg"
                ><i class="bi bi-bag"></i> View Menu</a
              >
              <a href="#admin" class="btn btn-outline-light btn-lg"
                ><i class="bi bi-gear"></i> Manage Menu</a
              >
            </div>
          </div>
          <div class="col-md-5 text-center">
            <img
              src="https://logodix.com/logo/1726670.jpg"
              alt="Temple emblem"
              class="hero-emblem mb-3"
            />
            <img
              src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&amp;fit=crop&w=500&amp;q=80"
              class="img-fluid rounded shadow"
              alt="South Indian breakfast spread"
            />
          </div>
        </div>
      </div>
    </header>

    <main class="container pb-5">
      <div class="row g-4">
        <section id="menu" class="col-lg-8">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="fw-bold mb-0">Menu</h2>
            <div class="text-muted small">
              Tap an item to add it to the bill.
            </div>
          </div>
          <div id="menu-grid" class="row g-3"></div>
        </section>

        <aside class="col-lg-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body d-flex flex-column">
              <div class="d-flex align-items-center justify-content-between mb-3">
                <h2 class="h4 fw-semibold mb-0">Cart</h2>
                <button
                  id="clear-cart"
                  class="btn btn-sm btn-outline-danger"
                  type="button"
                >
                  <i class="bi bi-trash"></i> Clear
                </button>
              </div>
              <div class="table-responsive flex-grow-1">
                <table class="table table-sm align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Item</th>
                      <th class="text-center">Qty</th>
                      <th class="text-end">₹</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody id="cart-rows"></tbody>
                </table>
                <p class="text-center text-muted" id="empty-cart-msg">
                  Cart is empty. Add some dishes!
                </p>
              </div>
              <div class="mt-3">
                <div class="d-flex justify-content-between fw-bold fs-5">
                  <span>Bill Total</span>
                  <span id="subtotal-display">₹0.00</span>
                </div>
                <div class="d-grid gap-2 mt-3">
                  <button id="pay-now" class="btn btn-success btn-lg" type="button">
                    <i class="bi bi-cash-coin"></i> Pay Now
                  </button>
                  <button id="print-bill" class="btn btn-outline-primary" type="button">
                    <i class="bi bi-printer"></i> Print Bill
                  </button>
                </div>
                <div class="payment-logos text-center mt-3">
                  <span class="text-muted small d-block mb-2">Accepted wallets & UPI apps</span>
                  <div class="d-flex justify-content-center flex-wrap gap-3">
                    <img src="https://www.credithuman.com/getmedia/accf5b11-a240-4597-94a4-c3ea27b3908b/google-pay-logo-png.png" alt="Google Pay logo" />
                    <img src="https://resize.indiatvnews.com/en/resize/newbucket/1200_-/2022/12/paytm-1672214472.jpg" alt="Paytm logo" />
                    <img src="https://www.nicepng.com/png/full/770-7701676_amazon-pay.png" alt="Amazon Pay logo" />
                    <img src="https://resize.indiatvnews.com/en/centered/newbucket/1200_675/2023/06/phonepe-1686727535.jpg" alt="PhonePe logo" />
                    <img src="https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/33/56/a7/3356a7c7-cc62-9545-43bc-85c79de1e776/AppIcon-0-0-1x_U007emarketing-0-8-0-85-220.png/512x512bb.jpg" alt="iMobile ICICI logo" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>

      <section id="reports" class="mt-5">
        <div class="card shadow-sm">
          <div class="card-body">
            <div class="d-flex flex-wrap align-items-center justify-content-between gap-3 mb-3">
              <div>
                <h2 class="h4 mb-1">Monthly Sales Report</h2>
                <p class="text-muted mb-0">Auto-generated when payments are completed.</p>
              </div>
              <div class="d-flex gap-2">
                <select
                  id="filter-year"
                  class="form-select form-select-sm"
                  aria-label="Filter by year"
                ></select>
                <select
                  id="filter-month"
                  class="form-select form-select-sm"
                  aria-label="Filter by month"
                ></select>
                <button id="reset-filters" class="btn btn-outline-secondary btn-sm" type="button">
                  Reset
                </button>
              </div>
            </div>
            <div class="table-responsive">
              <table class="table table-hover align-middle">
                <thead class="table-light">
                  <tr>
                    <th>Date</th>
                    <th>Items</th>
                    <th class="text-end">Total</th>
                  </tr>
                </thead>
                <tbody id="sales-rows"></tbody>
                <tfoot class="table-light">
                  <tr>
                    <th colspan="2">Monthly Total</th>
                    <th class="text-end" id="monthly-total">₹0.00</th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </section>

      <section id="admin" class="mt-5">
        <div class="card shadow-sm">
          <div class="card-body">
            <div class="d-flex flex-wrap align-items-center justify-content-between mb-3 gap-3">
              <div>
                <h2 class="h4 mb-1">Manage Menu</h2>
                <p class="text-muted mb-0">
                  Add new dishes or update existing prices quickly.
                </p>
              </div>
              <button id="seed-menu" class="btn btn-outline-primary btn-sm" type="button">
                Restore Default Menu
              </button>
            </div>
            <form id="menu-form" class="row g-3">
              <input type="hidden" id="menu-id" />
              <div class="col-md-6">
                <label for="menu-name" class="form-label">Dish Name</label>
                <input type="text" class="form-control" id="menu-name" required />
              </div>
              <div class="col-md-3">
                <label for="menu-price" class="form-label">Price (₹)</label>
                <input
                  type="number"
                  min="1"
                  class="form-control"
                  id="menu-price"
                  required
                />
              </div>
              <div class="col-12 d-flex gap-2">
                <button type="submit" class="btn btn-primary">Save Item</button>
                <button id="reset-form" type="button" class="btn btn-outline-secondary">
                  Reset
                </button>
              </div>
            </form>

            <div class="table-responsive mt-4">
              <table class="table align-middle">
                <thead class="table-light">
                  <tr>
                    <th>ID</th>
                    <th>Dish</th>
                    <th>Price</th>
                    <th>Image</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="manage-menu-rows"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="text-center py-4 text-muted">
      © <span id="year"></span> Shree Hostel  · Powered by Kamalesh
    </footer>

    <!-- Pay Modal -->
    <div
      class="modal fade"
      id="payModal"
      tabindex="-1"
      aria-labelledby="payModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="payModalLabel">Scan & Pay</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center">
            <p class="text-muted">
              Scan the QR to complete the payment. The order will be saved automatically.
            </p>
            <img
              class="qr-img img-fluid rounded shadow mb-3"
              src="https://dukaan.b-cdn.net/700x700/webp/5408531/9657c1f2-8b3f-4bad-b28f-0a4afbda4f89/jmv-qr-code-google-pay-e492c285-286a-46ea-874e-fb6dad81b983.jpeg"
              alt="UPI QR for JM Vista Suites"
            />
            <div class="h4" id="modal-total">₹0.00</div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              Close
            </button>
            <button id="complete-payment" type="button" class="btn btn-success">
              Payment Received
            </button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="app.js"></script>
  </body>
</html>

